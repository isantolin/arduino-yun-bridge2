# Single source of truth for McuBridge daemon dependencies.

[[dependency]]
name = "python3"
openwrt = "python3"
pip = ""
rationale = "Base interpreter shipped on the target image"

[[dependency]]
name = "python3-uci"
openwrt = "python3-uci"
pip = ""
rationale = "Load daemon configuration from UCI"

[[dependency]]
name = "aiomqtt"
openwrt = "python3-aiomqtt"
pip = "aiomqtt==2.5.0"
rationale = "Async MQTT v5 client used for runtime telemetry (Python 3.13 compatible)"

[[dependency]]
name = "paho-mqtt"
openwrt = "python3-paho-mqtt"
pip = "paho-mqtt==2.1.0"
rationale = "Synchronous MQTT client for legacy CGI scripts"

# pyserial removed: replaced by built-in termios (mcubridge.transport.termios_serial)
# This eliminates the dependency on an unmaintained package (last release 2020)

[[dependency]]
name = "python-cobs"
openwrt = "python3-cobs"
pip = "cobs==1.2.2"
rationale = "COBS framing for the RPC protocol"

[[dependency]]
name = "msgspec"
openwrt = "python3-msgspec"
pip = "msgspec==0.20.0"
rationale = "High-performance JSON/MessagePack library"

[[dependency]]
name = "psutil"
openwrt = "python3-psutil"
pip = "psutil==7.2.1"
rationale = "Process supervision and zombie cleanup"

[[dependency]]
name = "prometheus-client"
openwrt = "python3-prometheus-client"
pip = "prometheus-client==0.23.1"
rationale = "Expose runtime metrics via the Prometheus Python client"

[[dependency]]
name = "pyserial-asyncio-fast"
openwrt = "python3-pyserial-asyncio-fast"
pip = "pyserial-asyncio-fast==0.16"
rationale = "Zero-Overhead Async I/O for Serial"

[[dependency]]
name = "tenacity"
openwrt = "python3-tenacity"
pip = "tenacity==9.1.2"
rationale = "Declarative retrying library for robust task supervision and handshake"

[[dependency]]
name = "uvloop"
openwrt = "python3-uvloop"
pip = "uvloop==0.22.1"
rationale = "Ultra-fast asyncio event loop implementation (libuv)"

[[dependency]]
name = "cryptography"
openwrt = "python3-cryptography"
pip = "cryptography==46.0.4"
rationale = "HKDF and HMAC for handshake security (SIL-2 compliance)"