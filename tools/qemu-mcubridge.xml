<domain type="qemu">
  <name>OpenWrt-MIPS-AR9331-Sim</name>
  <uuid>002d781d-2684-4707-a57d-fdf64bde36a9</uuid>
  <metadata>
    <libosinfo:libosinfo xmlns:libosinfo="http://libosinfo.org/xmlns/libvirt/domain/1.0">
      <libosinfo:os id="http://libosinfo.org/linux/2024"/>
    </libosinfo:libosinfo>
  </metadata>
  <memory unit="KiB">524288</memory>
  <currentMemory unit="KiB">524288</currentMemory>
  <vcpu placement="static">1</vcpu>
  <os>
    <type arch="mips" machine="malta">hvm</type>
    <kernel>/home/ignaciosantolin/Downloads/openwrt-malta-be-vmlinux.elf</kernel>
    <cmdline>root=/dev/sda rootwait console=ttyS0 rootfstype=ext4 rw</cmdline>
    <boot dev="hd"/>
  </os>
  <clock offset="utc"/>
  <on_poweroff>destroy</on_poweroff>
  <on_reboot>restart</on_reboot>
  <on_crash>destroy</on_crash>
  <devices>
    <emulator>/usr/bin/qemu-system-mips</emulator>
    <disk type="file" device="disk">
      <driver name="qemu" type="raw"/>
      <source file="/home/ignaciosantolin/Downloads/openwrt-malta-be-rootfs-ext4.img"/>
      <target dev="hda" bus="ide"/>
      <address type="drive" controller="0" bus="0" target="0" unit="0"/>
    </disk>
    <disk type="file" device="disk">
      <driver name="qemu" type="raw"/>
      <source file="/home/ignaciosantolin/Downloads/sd_card.img"/>
      <target dev="hdb" bus="ide"/>
      <address type="drive" controller="0" bus="0" target="0" unit="1"/>
    </disk>
    <controller type="usb" index="0" model="piix3-uhci">
      <address type="pci" domain="0x0000" bus="0x00" slot="0x12" function="0x0"/>
    </controller>
    <controller type="pci" index="0" model="pci-root"/>
    <controller type="ide" index="0"/>
    <interface type="direct">
      <mac address="52:54:00:3c:ac:4a"/>
      <source dev="enp1s0" mode="bridge"/>
      <model type="pcnet"/>
      <address type="pci" domain="0x0000" bus="0x00" slot="0x0b" function="0x0"/>
    </interface>
    <interface type="network">
      <mac address="52:54:00:3c:ac:4b"/>
      <source network="default"/>
      <model type="pcnet"/>
      <address type="pci" domain="0x0000" bus="0x00" slot="0x0c" function="0x0"/>
    </interface>
    <serial type="pty">
      <target port="0"/>
    </serial>
    <serial type="tcp">
      <source mode="bind" host="127.0.0.1" service="4000"/>
      <protocol type="raw"/>
      <target port="1"/>
    </serial>
    <console type="pty">
      <target type="serial" port="0"/>
    </console>
    <audio id="1" type="none"/>

    <memballoon model="virtio">
      <address type="pci" domain="0x0000" bus="0x00" slot="0x02" function="0x0"/>
    </memballoon>
  </devices>
</domain>
